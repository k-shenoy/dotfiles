#!/usr/bin/env python3
import json, sys

if len(sys.argv) < 2:
    print("Usage: jlen <json_file>")
    sys.exit(1)

file = sys.argv[1]

with open(file) as f:
    if file.endswith('.jsonl'):
        # For JSONL files, count the number of lines
        count = sum(1 for _ in f)
        print(count)
    else:
        data = json.load(f)
        if isinstance(data, (list, dict)):
            print(len(data))
        else:
            print(f"JSON file contains a {type(data).__name__}, which has no length")
